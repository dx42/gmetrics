// MetricSet for testing CrapMetric

final COBERTURA_FILE = 'coverage/GMetrics/coverage.xml'

metricset {

    def coberturaMetric = metric(org.gmetrics.metric.coverage.CoberturaLineCoverageMetric) {
        coberturaFile = COBERTURA_FILE
        functions = ['total']
    }

    metric(org.gmetrics.metric.crap.CrapMetric) {
        functions = ['total']
        coverageMetric = coberturaMetric
        complexityMetric = CyclomaticComplexity(functions:['total'])

//      ALTERNATE SYNTAX
//      coverageMetric = metric(org.gmetrics.metric.coverage.CoberturaLineCoverageMetric) {
//            coberturaFile = COBERTURA_FILE
//            functions = ['total']
//      }
    }

}